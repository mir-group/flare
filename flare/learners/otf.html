

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>On-the-Fly Training &mdash; flare 1.4.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=02f2166e"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="On-the-Fly Training in LAMMPS" href="lmpotf.html" />
    <link rel="prev" title="Bayesian Active Learning" href="learners.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            flare
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../installation/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/tutorials.html">Tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../flare.html">Python Code Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../bffs/bffs.html">Bayesian Force Fields</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="learners.html">Bayesian Active Learning</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">On-the-Fly Training</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#flare.learners.otf.OTF"><code class="docutils literal notranslate"><span class="pre">OTF</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="lmpotf.html">On-the-Fly Training in LAMMPS</a></li>
<li class="toctree-l3"><a class="reference internal" href="gp_from_aimd.html">GP From AIMD</a></li>
<li class="toctree-l3"><a class="reference internal" href="utils.html">Conditions to add training data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../md/md.html">ASE MD Engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../descriptors/descriptors.html">Descriptors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kernels/kernels.html">Kernels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../io/io.html">File Input and Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utils/utils.html">Utility</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../flare_pp/flare_pp.html">C++ Code Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faqs.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../related.html">Applications/Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/contribute.html">How To Contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../citing.html">How to Cite</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">flare</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../flare.html">Python Code Documentation</a></li>
          <li class="breadcrumb-item"><a href="learners.html">Bayesian Active Learning</a></li>
      <li class="breadcrumb-item active">On-the-Fly Training</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/flare/learners/otf.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-flare.learners.otf">
<span id="on-the-fly-training"></span><h1>On-the-Fly Training<a class="headerlink" href="#module-flare.learners.otf" title="Link to this heading">ÔÉÅ</a></h1>
<p><a class="reference internal" href="#flare.learners.otf.OTF" title="flare.learners.otf.OTF"><code class="xref py py-class docutils literal notranslate"><span class="pre">OTF</span></code></a> is the on-the-fly training module for ASE, WITHOUT molecular dynamics engine.
It needs to be used adjointly with ASE MD engine.</p>
<dl class="py class">
<dt class="sig sig-object py" id="flare.learners.otf.OTF">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">flare.learners.otf.</span></span><span class="sig-name descname"><span class="pre">OTF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">atoms</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_steps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dft_calc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">md_engine</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">md_kwargs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flare_calc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trajectory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prev_pos_init</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rescale_steps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rescale_temps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_only</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">std_tolerance_factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">init_atoms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'otf_run'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_atoms_added</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_hyps</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">(0,</span> <span class="pre">1)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_steps_with_model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update_style</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'add_n'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update_threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dft_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">store_dft_output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'bayesian'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wandb_log</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#flare.learners.otf.OTF" title="Link to this definition">ÔÉÅ</a></dt>
<dd><dl class="simple">
<dt>Trains a Gaussian process force field on the fly during</dt><dd><p>molecular dynamics.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>atoms</strong> (<em>ASE Atoms</em>) ‚Äì the ASE Atoms object for the on-the-fly MD run.</p></li>
<li><p><strong>flare_calc</strong> ‚Äì ASE calculator. Must have ‚Äúget_uncertainties‚Äù method
implemented.</p></li>
<li><p><strong>dt</strong> ‚Äì the timestep in MD, in the units of pico-second.</p></li>
<li><p><strong>number_of_steps</strong> (<em>int</em>) ‚Äì the total number of steps for MD.</p></li>
<li><p><strong>dft_calc</strong> (<em>ASE Calculator</em>) ‚Äì any ASE calculator is supported,
e.g. Espresso, VASP etc.</p></li>
<li><p><strong>md_engine</strong> (<em>str</em>) ‚Äì the name of MD thermostat, only <cite>VelocityVerlet</cite>,
<cite>NVTBerendsen</cite>, <cite>NPTBerendsen</cite>, <cite>NPT</cite> and <cite>Langevin</cite>, <cite>NoseHoover</cite>
are supported.</p></li>
<li><p><strong>md_kwargs</strong> (<em>dict</em>) ‚Äì Specify the args for MD as a dictionary, the args are
as required by the ASE MD modules consistent with the <cite>md_engine</cite>.</p></li>
<li><p><strong>trajectory</strong> (<em>ASE Trajectory</em>) ‚Äì default <cite>None</cite>, not recommended,
currently in experiment.</p></li>
</ul>
</dd>
</dl>
<p>The following arguments are for on-the-fly training, the user can also
refer to <code class="xref py py-class docutils literal notranslate"><span class="pre">flare.otf.OTF</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prev_pos_init</strong> (<em>[type], optional</em>) ‚Äì Previous positions. Defaults
to None.</p></li>
<li><p><strong>rescale_steps</strong> (<em>List[int], optional</em>) ‚Äì List of frames for which the
velocities of the atoms are rescaled. Defaults to [].</p></li>
<li><p><strong>rescale_temps</strong> (<em>List[int], optional</em>) ‚Äì List of rescaled temperatures.
Defaults to [].</p></li>
<li><p><strong>write_model</strong> (<em>int, optional</em>) ‚Äì If 0, write never. If 1, write at
end of run. If 2, write after each training and end of run.
If 3, write after each time atoms are added and end of run.
If 4, write after each training and end of run, and back up
after each write.</p></li>
<li><p><strong>force_only</strong> (<em>bool, optional</em>) ‚Äì If True, only use forces for training.
Default to False, use forces, energy and stress for training.</p></li>
<li><p><strong>std_tolerance_factor</strong> (<em>float, optional</em>) ‚Äì Threshold that determines
when DFT is called. Specifies a multiple of the current noise
hyperparameter. If the epistemic uncertainty on a force
component exceeds this value, DFT is called. Defaults to 1.</p></li>
<li><p><strong>skip</strong> (<em>int, optional</em>) ‚Äì Number of frames that are skipped when
dumping to the output file. Defaults to 0.</p></li>
<li><p><strong>init_atoms</strong> (<em>List[int], optional</em>) ‚Äì List of atoms from the input
structure whose local environments and force components are
used to train the initial GP model. If None is specified, all
atoms are used to train the initial GP. Defaults to None.</p></li>
<li><p><strong>output_name</strong> (<em>str, optional</em>) ‚Äì Name of the output file. Defaults to
‚Äòotf_run‚Äô.</p></li>
<li><p><strong>max_atoms_added</strong> (<em>int, optional</em>) ‚Äì Number of atoms added each time
DFT is called. Defaults to 1.</p></li>
<li><p><strong>train_hyps</strong> (<em>tuple, optional</em>) ‚Äì Specifies the range of steps the
hyperparameters of the GP are optimized. If the number of DFT
calls is in this range, the hyperparameters are frozen.
Defaults to (None, None) which means always training.</p></li>
<li><p><strong>min_steps_with_model</strong> (<em>int, optional</em>) ‚Äì Minimum number of steps the
model takes in between calls to DFT. Defaults to 0.</p></li>
<li><p><strong>dft_kwargs</strong> (<em>[type], optional</em>) ‚Äì Additional arguments which are
passed when DFT is called; keyword arguments vary based on the
program (e.g. ESPRESSO vs. VASP). Defaults to None.</p></li>
<li><p><strong>store_dft_output</strong> (<em>Tuple[Union[str,List[str]],str], optional</em>) ‚Äì After DFT calculations are called, copy the file or files
specified in the first element of the tuple to a directory
specified as the second element of the tuple.
Useful when DFT calculations are expensive and want to be kept
for later use. The first element of the tuple can either be a
single file name, or a list of several. Copied files will be
prepended with the date and time with the format
‚ÄòYear.Month.Day:Hour:Minute:Second:‚Äô.</p></li>
<li><p><strong>build_mode</strong> (<em>str</em>) ‚Äì default ‚Äúbayesian‚Äù, run on-the-fly training.
‚Äúdirect‚Äù mode constructs GP model from a given list of frames, with
<cite>FakeMD</cite> and <cite>FakeDFT</cite>. Each frame needs to have a global
property called ‚Äútarget_atoms‚Äù specifying a list of atomic
environments added to the GP model.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="flare.learners.otf.OTF.compute_properties">
<span class="sig-name descname"><span class="pre">compute_properties</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#flare.learners.otf.OTF.compute_properties" title="Link to this definition">ÔÉÅ</a></dt>
<dd><dl class="simple">
<dt>Compute energies, forces, stresses, and their uncertainties with</dt><dd><p>the FLARE ASE calcuator, and write the results to the
OTF structure object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flare.learners.otf.OTF.md_step">
<span class="sig-name descname"><span class="pre">md_step</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#flare.learners.otf.OTF.md_step" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Get new position in molecular dynamics based on the forces predicted by
FLARE_Calculator or DFT calculator</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flare.learners.otf.OTF.rescale_temperature">
<span class="sig-name descname"><span class="pre">rescale_temperature</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_pos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#flare.learners.otf.OTF.rescale_temperature" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Change the previous positions to update the temperature</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>new_pos</strong> (<em>np.ndarray</em>) ‚Äì Positions of atoms in the next MD frame.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flare.learners.otf.OTF.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#flare.learners.otf.OTF.run" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Performs an on-the-fly training run.</p>
<p>If OTF has store_dft_output set, then the specified DFT files will
be copied with the current date and time prepended in the format
‚ÄòYear.Month.Day:Hour:Minute:Second:‚Äô.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flare.learners.otf.OTF.run_dft">
<span class="sig-name descname"><span class="pre">run_dft</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#flare.learners.otf.OTF.run_dft" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Calculates DFT forces on atoms in the current structure.</p>
<p>If OTF has store_dft_output set, then the specified DFT files will
be copied with the current date and time prepended in the format
‚ÄòYear.Month.Day:Hour:Minute:Second:‚Äô.</p>
<p>Calculates DFT forces on atoms in the current structure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flare.learners.otf.OTF.train_gp">
<span class="sig-name descname"><span class="pre">train_gp</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#flare.learners.otf.OTF.train_gp" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Optimizes the hyperparameters of the current GP model.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flare.learners.otf.OTF.update_gp">
<span class="sig-name descname"><span class="pre">update_gp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">train_atoms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dft_frcs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dft_energy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dft_stress</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#flare.learners.otf.OTF.update_gp" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Updates the current GP model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>train_atoms</strong> (<em>List[int]</em>) ‚Äì List of atoms whose local environments
will be added to the training set.</p></li>
<li><p><strong>dft_frcs</strong> (<em>np.ndarray</em>) ‚Äì DFT forces on all atoms in the structure.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flare.learners.otf.OTF.update_temperature">
<span class="sig-name descname"><span class="pre">update_temperature</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#flare.learners.otf.OTF.update_temperature" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Updates the instantaneous temperatures of the system.</p>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="learners.html" class="btn btn-neutral float-left" title="Bayesian Active Learning" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="lmpotf.html" class="btn btn-neutral float-right" title="On-the-Fly Training in LAMMPS" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Jonathan Vandermause, Yu Xie, Anders Johansson, Cameron Owen.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>